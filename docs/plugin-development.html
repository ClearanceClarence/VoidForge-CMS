<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plugin Development ‚Äî VoidForge CMS</title>
    <meta name="description" content="Complete guide to developing plugins for VoidForge CMS. Learn hooks, filters, shortcodes, AJAX, REST API, and more.">
    <link rel="icon" href="../favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Source+Code+Pro:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --purple: #8b5cf6;
            --purple-light: #a78bfa;
            --purple-dark: #7c3aed;
            --cyan: #06b6d4;
            --cyan-light: #22d3ee;
            
            --green: #10b981;
            --amber: #f59e0b;
            --red: #ef4444;
            
            --white: #ffffff;
            --gray-50: #fafafa;
            --gray-100: #f4f4f5;
            --gray-200: #e4e4e7;
            --gray-300: #d4d4d8;
            --gray-400: #a1a1aa;
            --gray-500: #71717a;
            --gray-600: #52525b;
            --gray-700: #3f3f46;
            --gray-800: #27272a;
            --gray-900: #18181b;
            --gray-950: #09090b;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        html { 
            scroll-behavior: smooth; 
            scroll-padding-top: 80px;
        }
        
        body {
            font-family: 'Outfit', system-ui, sans-serif;
            background: var(--gray-50);
            color: var(--gray-800);
            line-height: 1.6;
            font-size: 15px;
            min-height: 100vh;
        }
        
        /* ===== HEADER ===== */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(16px);
            border-bottom: 1px solid var(--gray-200);
        }
        
        .header-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            font-weight: 700;
            font-size: 18px;
            color: var(--gray-900);
        }
        
        .logo-mark {
            width: 32px;
            height: 32px;
        }
        
        .logo span {
            background: linear-gradient(135deg, var(--purple) 0%, var(--cyan) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        nav {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        nav a {
            padding: 8px 14px;
            font-size: 14px;
            font-weight: 500;
            color: var(--gray-600);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.15s;
        }
        
        nav a:hover {
            color: var(--gray-900);
            background: var(--gray-100);
        }
        
        nav a.active {
            color: var(--purple);
            background: rgba(139, 92, 246, 0.08);
        }
        
        nav a.btn-primary {
            background: var(--gray-900);
            color: white;
            margin-left: 8px;
        }
        
        nav a.btn-primary:hover {
            background: var(--gray-700);
        }
        
        /* ===== LAYOUT ===== */
        .layout {
            display: grid;
            grid-template-columns: 240px 1fr;
            max-width: 1280px;
            margin: 0 auto;
            padding: 64px 24px 0;
            gap: 48px;
        }
        
        /* ===== SIDEBAR ===== */
        aside {
            position: sticky;
            top: 88px;
            height: fit-content;
            max-height: calc(100vh - 104px);
            overflow-y: auto;
            padding: 24px 0;
        }
        
        aside::-webkit-scrollbar { width: 0; }
        
        .nav-group {
            margin-bottom: 24px;
        }
        
        .nav-group-title {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--gray-400);
            padding: 0 12px;
            margin-bottom: 8px;
        }
        
        .nav-group a {
            display: block;
            padding: 6px 12px;
            font-size: 14px;
            font-weight: 500;
            color: var(--gray-600);
            text-decoration: none;
            border-radius: 6px;
            border-left: 2px solid transparent;
            margin-left: -2px;
            transition: all 0.15s;
        }
        
        .nav-group a:hover {
            color: var(--gray-900);
            background: var(--gray-100);
        }
        
        .nav-group a.active {
            color: var(--purple);
            background: rgba(139, 92, 246, 0.06);
            border-left-color: var(--purple);
        }
        
        /* ===== MAIN CONTENT ===== */
        main {
            max-width: 720px;
            padding: 24px 0 80px;
        }
        
        .page-header {
            margin-bottom: 48px;
        }
        
        .page-header h1 {
            font-size: 36px;
            font-weight: 700;
            color: var(--gray-900);
            letter-spacing: -0.02em;
            margin-bottom: 12px;
        }
        
        .page-header p {
            font-size: 17px;
            color: var(--gray-500);
            line-height: 1.6;
        }
        
        /* ===== SECTIONS ===== */
        section {
            margin-bottom: 56px;
        }
        
        section h2 {
            font-size: 24px;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--gray-200);
            letter-spacing: -0.01em;
        }
        
        section h2::before {
            content: '';
            display: block;
            height: 80px;
            margin-top: -80px;
            visibility: hidden;
            pointer-events: none;
        }
        
        section h3 {
            font-size: 17px;
            font-weight: 600;
            color: var(--gray-800);
            margin: 28px 0 12px;
        }
        
        section p {
            color: var(--gray-600);
            margin-bottom: 16px;
        }
        
        section ul, section ol {
            color: var(--gray-600);
            margin-bottom: 16px;
            padding-left: 20px;
        }
        
        section li {
            margin-bottom: 6px;
        }
        
        section a {
            color: var(--purple);
            text-decoration: none;
            font-weight: 500;
        }
        
        section a:hover {
            text-decoration: underline;
        }
        
        /* ===== CODE ===== */
        code {
            font-family: 'Source Code Pro', monospace;
            font-size: 0.875em;
        }
        
        :not(pre) > code {
            background: var(--gray-100);
            color: var(--purple-dark);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 500;
        }
        
        pre {
            background: var(--gray-900);
            border-radius: 12px;
            padding: 20px 24px;
            overflow-x: auto;
            margin: 16px 0 24px;
        }
        
        pre code {
            color: var(--gray-300);
            font-size: 13px;
            line-height: 1.7;
        }
        
        .c { color: #6b7280; }  /* comment */
        .k { color: #c084fc; }  /* keyword */
        .s { color: #86efac; }  /* string */
        .f { color: #67e8f9; }  /* function */
        .v { color: #fca5a5; }  /* variable */
        .n { color: #fdba74; }  /* number */
        
        /* ===== TABLES ===== */
        .table-wrap {
            overflow-x: auto;
            margin: 16px 0 24px;
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            background: white;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        
        th {
            text-align: left;
            padding: 12px 16px;
            font-weight: 600;
            color: var(--gray-700);
            background: var(--gray-50);
            border-bottom: 1px solid var(--gray-200);
        }
        
        td {
            padding: 12px 16px;
            color: var(--gray-600);
            border-bottom: 1px solid var(--gray-100);
            vertical-align: top;
        }
        
        tr:last-child td { border-bottom: none; }
        
        td code { font-size: 12px; }
        
        /* ===== BADGES ===== */
        .badge {
            display: inline-block;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: 600;
            border-radius: 4px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }
        
        .badge-action {
            background: rgba(16, 185, 129, 0.1);
            color: #059669;
        }
        
        .badge-filter {
            background: rgba(139, 92, 246, 0.1);
            color: var(--purple-dark);
        }
        
        /* ===== CALLOUTS ===== */
        .callout {
            display: flex;
            gap: 12px;
            padding: 16px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .callout-icon {
            flex-shrink: 0;
            width: 20px;
            height: 20px;
        }
        
        .callout-content strong {
            display: block;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .callout-info {
            background: rgba(139, 92, 246, 0.06);
            border: 1px solid rgba(139, 92, 246, 0.15);
        }
        .callout-info .callout-icon { color: var(--purple); }
        
        .callout-success {
            background: rgba(16, 185, 129, 0.06);
            border: 1px solid rgba(16, 185, 129, 0.15);
        }
        .callout-success .callout-icon { color: var(--green); }
        
        .callout-warning {
            background: rgba(245, 158, 11, 0.06);
            border: 1px solid rgba(245, 158, 11, 0.2);
        }
        .callout-warning .callout-icon { color: var(--amber); }
        
        /* ===== CARDS ===== */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 20px 0;
        }
        
        .card {
            background: white;
            border: 1px solid var(--gray-200);
            border-radius: 10px;
            padding: 16px;
            transition: all 0.2s;
        }
        
        .card:hover {
            border-color: var(--gray-300);
            box-shadow: 0 4px 12px rgba(0,0,0,0.04);
        }
        
        .card h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 4px;
        }
        
        .card p {
            font-size: 13px;
            color: var(--gray-500);
            margin: 0;
        }
        
        /* ===== FILE TREE ===== */
        .file-tree {
            font-family: 'Source Code Pro', monospace;
            font-size: 13px;
            background: white;
            border: 1px solid var(--gray-200);
            border-radius: 10px;
            padding: 16px 20px;
            margin: 16px 0;
        }
        
        .file-tree div {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 4px 0;
            color: var(--gray-600);
        }
        
        .file-tree .indent { padding-left: 20px; }
        .file-tree .indent-2 { padding-left: 40px; }
        
        .file-tree svg {
            width: 16px;
            height: 16px;
            flex-shrink: 0;
        }
        
        .file-tree .folder { color: var(--amber); }
        .file-tree .file-php { color: var(--purple); }
        .file-tree .file { color: var(--gray-400); }
        
        /* ===== MOBILE ===== */
        .mobile-toggle {
            display: none;
            background: none;
            border: none;
            padding: 8px;
            cursor: pointer;
            color: var(--gray-700);
        }
        
        @media (max-width: 900px) {
            .layout {
                grid-template-columns: 1fr;
                padding-top: 64px;
            }
            
            aside {
                display: none;
                position: fixed;
                top: 64px;
                left: 0;
                right: 0;
                bottom: 0;
                background: white;
                padding: 24px;
                z-index: 99;
                max-height: none;
            }
            
            aside.open { display: block; }
            
            .mobile-toggle { display: block; }
            
            nav a:not(.btn-primary) { display: none; }
            
            .page-header h1 { font-size: 28px; }
            
            .card-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <a href="../" class="logo">
                <svg class="logo-mark" viewBox="0 0 32 32" fill="none">
                    <defs>
                        <linearGradient id="lg1" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#8b5cf6"/>
                            <stop offset="100%" stop-color="#06b6d4"/>
                        </linearGradient>
                        <linearGradient id="lg2" x1="50%" y1="0%" x2="50%" y2="100%">
                            <stop offset="0%" stop-color="#c4b5fd"/>
                            <stop offset="100%" stop-color="#8b5cf6"/>
                        </linearGradient>
                    </defs>
                    <path d="M5 5 L16 27 L27 5" fill="none" stroke="url(#lg1)" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                    <circle cx="16" cy="14" r="3.5" fill="url(#lg2)"/>
                    <circle cx="16" cy="14" r="1.5" fill="#fff"/>
                </svg>
                <span>VoidForge</span>
            </a>
            
            <nav>
                <a href="plugin-development.html" class="active">Plugins</a>
                <a href="theme-development.html">Themes</a>
                <a href="../admin/" class="btn-primary">Admin Panel</a>
            </nav>
            
            <button class="mobile-toggle" onclick="document.querySelector('aside').classList.toggle('open')">
                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
            </button>
        </div>
    </header>
    
    <div class="layout">
        <aside>
            <div class="nav-group">
                <div class="nav-group-title">Getting Started</div>
                <a href="#introduction" class="active">Introduction</a>
                <a href="#structure">Plugin Structure</a>
                <a href="#first-plugin">Your First Plugin</a>
            </div>
            
            <div class="nav-group">
                <div class="nav-group-title">Core Concepts</div>
                <a href="#actions">Actions</a>
                <a href="#filters">Filters</a>
                <a href="#shortcodes">Shortcodes</a>
                <a href="#settings">Settings API</a>
                <a href="#ajax">AJAX Handlers</a>
            </div>
            
            <div class="nav-group">
                <div class="nav-group-title">Advanced</div>
                <a href="#admin-pages">Admin Pages</a>
                <a href="#rest-api">REST API</a>
                <a href="#assets">Styles & Scripts</a>
                <a href="#database">Database</a>
            </div>
            
            <div class="nav-group">
                <div class="nav-group-title">Reference</div>
                <a href="#hooks">All Hooks</a>
                <a href="#examples">Examples</a>
                <a href="#best-practices">Best Practices</a>
            </div>
        </aside>
        
        <main>
            <div class="page-header">
                <h1>Plugin Development</h1>
                <p>Learn to extend VoidForge CMS with custom plugins. Build powerful features using hooks, filters, shortcodes, and REST APIs.</p>
            </div>
            
            <!-- Introduction -->
            <section id="introduction">
                <h2>Introduction</h2>
                <p>VoidForge CMS features a powerful plugin system that lets you extend functionality without modifying core files. Plugins can add new features, modify behavior, and integrate with external services.</p>
                
                <div class="card-grid">
                    <div class="card">
                        <h4>ü™ù Hooks & Filters</h4>
                        <p>90+ hooks to extend every part of the CMS</p>
                    </div>
                    <div class="card">
                        <h4>‚ö° Shortcodes</h4>
                        <p>Embed dynamic content in posts and pages</p>
                    </div>
                    <div class="card">
                        <h4>üîå REST API</h4>
                        <p>Register custom API endpoints easily</p>
                    </div>
                    <div class="card">
                        <h4>‚öôÔ∏è Settings API</h4>
                        <p>Built-in configuration management</p>
                    </div>
                </div>
            </section>
            
            <!-- Structure -->
            <section id="structure">
                <h2>Plugin Structure</h2>
                <p>Each plugin lives in its own folder within <code>/content/plugins/</code>. The folder name becomes the plugin's unique identifier.</p>
                
                <div class="file-tree">
                    <div>
                        <svg class="folder" viewBox="0 0 24 24" fill="currentColor"><path d="M10 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V8a2 2 0 00-2-2h-8l-2-2z"/></svg>
                        content/plugins/
                    </div>
                    <div class="indent">
                        <svg class="folder" viewBox="0 0 24 24" fill="currentColor"><path d="M10 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V8a2 2 0 00-2-2h-8l-2-2z"/></svg>
                        my-plugin/
                    </div>
                    <div class="indent-2">
                        <svg class="file-php" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><path d="M14 2v6h6"/></svg>
                        my-plugin.php
                    </div>
                    <div class="indent-2">
                        <svg class="file" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><path d="M14 2v6h6"/></svg>
                        assets/, includes/ (optional)
                    </div>
                </div>
                
                <div class="callout callout-info">
                    <svg class="callout-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4m0-4h.01"/></svg>
                    <div class="callout-content">
                        <strong>Important</strong>
                        The main PHP file must match the folder name (e.g., <code>my-plugin/my-plugin.php</code>).
                    </div>
                </div>
            </section>
            
            <!-- First Plugin -->
            <section id="first-plugin">
                <h2>Your First Plugin</h2>
                
                <h3>Step 1: Create the Folder</h3>
                <p>Create a new folder in <code>/content/plugins/</code>:</p>
<pre><code>content/plugins/hello-world/</code></pre>
                
                <h3>Step 2: Create the Main File</h3>
                <p>Create <code>hello-world.php</code> with a plugin header:</p>
<pre><code><span class="k">&lt;?php</span>
<span class="c">/**
 * Plugin Name: Hello World
 * Description: A simple example plugin
 * Version: 1.0.0
 * Author: Your Name
 */</span>

<span class="k">defined</span>(<span class="s">'CMS_ROOT'</span>) <span class="k">or</span> <span class="k">die</span>(<span class="s">'Direct access not allowed'</span>);

<span class="c">// Add a greeting to the footer</span>
<span class="f">Plugin::addAction</span>(<span class="s">'vf_footer'</span>, <span class="k">function</span>() {
    <span class="k">echo</span> <span class="s">'&lt;p&gt;Hello from my plugin!&lt;/p&gt;'</span>;
});</code></pre>
                
                <h3>Step 3: Activate</h3>
                <p>Go to <strong>Admin ‚Üí Plugins</strong> and click <strong>Activate</strong>.</p>
                
                <div class="callout callout-success">
                    <svg class="callout-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><path d="M22 4L12 14.01l-3-3"/></svg>
                    <div class="callout-content">
                        <strong>Done!</strong>
                        Your plugin is now running and will display a message in the footer.
                    </div>
                </div>
            </section>
            
            <!-- Actions -->
            <section id="actions">
                <h2>Actions</h2>
                <p>Actions execute custom code at specific points in the CMS lifecycle.</p>
                
<pre><code><span class="f">Plugin::addAction</span>(<span class="s">'hook_name'</span>, <span class="v">$callback</span>, <span class="v">$priority</span> = <span class="n">10</span>);

<span class="c">// Example: Send email when post is published</span>
<span class="f">Plugin::addAction</span>(<span class="s">'post_status_published'</span>, <span class="k">function</span>(<span class="v">$post</span>, <span class="v">$oldStatus</span>) {
    <span class="f">mail</span>(<span class="s">'admin@site.com'</span>, <span class="s">'New Post'</span>, <span class="v">$post</span>[<span class="s">'title'</span>] . <span class="s">' was published'</span>);
});</code></pre>
                
                <h3>Triggering Actions</h3>
<pre><code><span class="f">Plugin::doAction</span>(<span class="s">'my_custom_action'</span>, <span class="v">$arg1</span>, <span class="v">$arg2</span>);</code></pre>
            </section>
            
            <!-- Filters -->
            <section id="filters">
                <h2>Filters</h2>
                <p>Filters modify data as it passes through the CMS. Unlike actions, filters must return a value.</p>
                
<pre><code><span class="f">Plugin::addFilter</span>(<span class="s">'filter_name'</span>, <span class="v">$callback</span>, <span class="v">$priority</span> = <span class="n">10</span>);

<span class="c">// Example: Add reading time to content</span>
<span class="f">Plugin::addFilter</span>(<span class="s">'the_content'</span>, <span class="k">function</span>(<span class="v">$content</span>, <span class="v">$post</span>) {
    <span class="v">$words</span> = <span class="f">str_word_count</span>(<span class="f">strip_tags</span>(<span class="v">$content</span>));
    <span class="v">$minutes</span> = <span class="f">ceil</span>(<span class="v">$words</span> / <span class="n">200</span>);
    <span class="k">return</span> <span class="s">"&lt;p&gt;üìñ {$minutes} min read&lt;/p&gt;"</span> . <span class="v">$content</span>;
});</code></pre>
            </section>
            
            <!-- Shortcodes -->
            <section id="shortcodes">
                <h2>Shortcodes</h2>
                <p>Embed dynamic content using simple tags like <code>[shortcode]</code>.</p>
                
                <h3>Self-Closing</h3>
<pre><code><span class="f">Plugin::addShortcode</span>(<span class="s">'year'</span>, <span class="k">function</span>() {
    <span class="k">return</span> <span class="f">date</span>(<span class="s">'Y'</span>);
});
<span class="c">// [year] ‚Üí 2025</span></code></pre>
                
                <h3>With Attributes</h3>
<pre><code><span class="f">Plugin::addShortcode</span>(<span class="s">'button'</span>, <span class="k">function</span>(<span class="v">$atts</span>) {
    <span class="v">$atts</span> = <span class="f">array_merge</span>([
        <span class="s">'url'</span> => <span class="s">'#'</span>,
        <span class="s">'text'</span> => <span class="s">'Click Me'</span>
    ], <span class="v">$atts</span>);
    
    <span class="k">return</span> <span class="s">"&lt;a href=\"{$atts['url']}\" class=\"btn\"&gt;{$atts['text']}&lt;/a&gt;"</span>;
});
<span class="c">// [button url="/signup" text="Sign Up"]</span></code></pre>
                
                <h3>Enclosing</h3>
<pre><code><span class="f">Plugin::addShortcode</span>(<span class="s">'highlight'</span>, <span class="k">function</span>(<span class="v">$atts</span>, <span class="v">$content</span>) {
    <span class="v">$color</span> = <span class="v">$atts</span>[<span class="s">'color'</span>] ?? <span class="s">'yellow'</span>;
    <span class="k">return</span> <span class="s">"&lt;mark style=\"background:{$color}\"&gt;{$content}&lt;/mark&gt;"</span>;
});
<span class="c">// [highlight color="lime"]Important[/highlight]</span></code></pre>
            </section>
            
            <!-- Settings -->
            <section id="settings">
                <h2>Settings API</h2>
<pre><code><span class="f">Plugin::registerSettings</span>(<span class="s">'my-plugin'</span>, [
    <span class="s">'api_key'</span> => [
        <span class="s">'type'</span> => <span class="s">'text'</span>,
        <span class="s">'label'</span> => <span class="s">'API Key'</span>,
        <span class="s">'default'</span> => <span class="s">''</span>
    ],
    <span class="s">'enabled'</span> => [
        <span class="s">'type'</span> => <span class="s">'checkbox'</span>,
        <span class="s">'label'</span> => <span class="s">'Enable Feature'</span>,
        <span class="s">'default'</span> => <span class="k">true</span>
    ]
]);

<span class="c">// Get/Set</span>
<span class="v">$key</span> = <span class="f">Plugin::getSetting</span>(<span class="s">'my-plugin'</span>, <span class="s">'api_key'</span>);
<span class="f">Plugin::setSetting</span>(<span class="s">'my-plugin'</span>, <span class="s">'api_key'</span>, <span class="s">'new-value'</span>);</code></pre>
            </section>
            
            <!-- AJAX -->
            <section id="ajax">
                <h2>AJAX Handlers</h2>
<pre><code><span class="f">Plugin::addAjax</span>(<span class="s">'my_action'</span>, <span class="k">function</span>() {
    <span class="k">if</span> (!<span class="f">verifyCsrf</span>(<span class="v">$_POST</span>[<span class="s">'csrf'</span>] ?? <span class="s">''</span>)) {
        <span class="f">vf_send_json_error</span>([<span class="s">'message'</span> => <span class="s">'Invalid token'</span>]);
    }
    
    <span class="v">$result</span> = <span class="f">processData</span>(<span class="v">$_POST</span>[<span class="s">'data'</span>]);
    <span class="f">vf_send_json_success</span>([<span class="s">'result'</span> => <span class="v">$result</span>]);
}, <span class="k">true</span>); <span class="c">// true = require login</span></code></pre>
            </section>
            
            <!-- Admin Pages -->
            <section id="admin-pages">
                <h2>Admin Pages</h2>
<pre><code><span class="f">Plugin::addAdminPage</span>(<span class="s">'my-settings'</span>, [
    <span class="s">'page_title'</span> => <span class="s">'My Plugin Settings'</span>,
    <span class="s">'menu_title'</span> => <span class="s">'My Plugin'</span>,
    <span class="s">'capability'</span> => <span class="s">'admin'</span>,
    <span class="s">'icon'</span> => <span class="s">'settings'</span>,
    <span class="s">'parent'</span> => <span class="s">'plugins'</span>,
    <span class="s">'callback'</span> => <span class="k">function</span>() {
        <span class="k">include</span> <span class="f">__DIR__</span> . <span class="s">'/views/settings.php'</span>;
    }
]);</code></pre>
            </section>
            
            <!-- REST API -->
            <section id="rest-api">
                <h2>REST API</h2>
<pre><code><span class="f">Plugin::addAction</span>(<span class="s">'rest_api_init'</span>, <span class="k">function</span>() {
    <span class="f">Plugin::registerRestRoute</span>(<span class="s">'my-plugin/v1'</span>, <span class="s">'items'</span>, [
        <span class="s">'methods'</span> => <span class="s">'GET'</span>,
        <span class="s">'callback'</span> => <span class="k">function</span>(<span class="v">$request</span>) {
            <span class="k">return</span> [<span class="s">'items'</span> => <span class="f">getItems</span>()];
        },
        <span class="s">'permission_callback'</span> => <span class="k">function</span>() {
            <span class="k">return</span> <span class="f">User::isLoggedIn</span>();
        }
    ]);
});
<span class="c">// GET /api/my-plugin/v1/items</span></code></pre>
            </section>
            
            <!-- Assets -->
            <section id="assets">
                <h2>Styles & Scripts</h2>
<pre><code><span class="c">// Frontend</span>
<span class="f">Plugin::addAction</span>(<span class="s">'vf_head'</span>, <span class="k">function</span>() {
    <span class="f">Plugin::enqueueStyle</span>(<span class="s">'my-css'</span>, <span class="f">Plugin::url</span>(<span class="s">'my-plugin'</span>) . <span class="s">'/style.css'</span>);
});

<span class="f">Plugin::addAction</span>(<span class="s">'vf_footer'</span>, <span class="k">function</span>() {
    <span class="f">Plugin::enqueueScript</span>(<span class="s">'my-js'</span>, <span class="f">Plugin::url</span>(<span class="s">'my-plugin'</span>) . <span class="s">'/script.js'</span>);
});

<span class="c">// Admin (page-specific)</span>
<span class="f">Plugin::addAction</span>(<span class="s">'admin_enqueue_scripts'</span>, <span class="k">function</span>(<span class="v">$page</span>) {
    <span class="k">if</span> (<span class="v">$page</span> === <span class="s">'plugins'</span>) {
        <span class="f">Plugin::enqueueScript</span>(<span class="s">'admin-js'</span>, <span class="f">Plugin::url</span>(<span class="s">'my-plugin'</span>) . <span class="s">'/admin.js'</span>);
    }
});</code></pre>
            </section>
            
            <!-- Database -->
            <section id="database">
                <h2>Database</h2>
<pre><code><span class="v">$pdo</span> = <span class="f">Database::getInstance</span>();

<span class="v">$users</span> = <span class="f">Database::query</span>(
    <span class="s">"SELECT * FROM "</span> . <span class="f">Database::table</span>(<span class="s">'users'</span>) . <span class="s">" WHERE role = ?"</span>,
    [<span class="s">'admin'</span>]
);

<span class="v">$count</span> = <span class="f">Database::queryValue</span>(
    <span class="s">"SELECT COUNT(*) FROM "</span> . <span class="f">Database::table</span>(<span class="s">'posts'</span>)
);</code></pre>
                
                <div class="callout callout-warning">
                    <svg class="callout-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><path d="M12 9v4m0 4h.01"/></svg>
                    <div class="callout-content">
                        <strong>Security</strong>
                        Always use prepared statements. Never interpolate user input directly.
                    </div>
                </div>
            </section>
            
            <!-- Hooks Reference -->
            <section id="hooks">
                <h2>All Hooks</h2>
                <p>VoidForge provides 90+ hooks. Here are the most commonly used:</p>
                
                <h3>Core System</h3>
                <div class="table-wrap">
                    <table>
                        <thead><tr><th>Hook</th><th>Type</th><th>Description</th></tr></thead>
                        <tbody>
                            <tr><td><code>init</code></td><td><span class="badge badge-action">Action</span></td><td>After CMS initializes</td></tr>
                            <tr><td><code>plugins_loaded</code></td><td><span class="badge badge-action">Action</span></td><td>After all plugins load</td></tr>
                            <tr><td><code>shutdown</code></td><td><span class="badge badge-action">Action</span></td><td>Before script ends</td></tr>
                        </tbody>
                    </table>
                </div>
                
                <h3>Content</h3>
                <div class="table-wrap">
                    <table>
                        <thead><tr><th>Hook</th><th>Type</th><th>Description</th></tr></thead>
                        <tbody>
                            <tr><td><code>pre_insert_post</code></td><td><span class="badge badge-filter">Filter</span></td><td>Modify post before creation</td></tr>
                            <tr><td><code>post_inserted</code></td><td><span class="badge badge-action">Action</span></td><td>After post created</td></tr>
                            <tr><td><code>post_updated</code></td><td><span class="badge badge-action">Action</span></td><td>After post updated</td></tr>
                            <tr><td><code>post_status_changed</code></td><td><span class="badge badge-action">Action</span></td><td>When status changes</td></tr>
                            <tr><td><code>the_content</code></td><td><span class="badge badge-filter">Filter</span></td><td>Modify post content</td></tr>
                            <tr><td><code>the_title</code></td><td><span class="badge badge-filter">Filter</span></td><td>Modify post title</td></tr>
                        </tbody>
                    </table>
                </div>
                
                <h3>Users</h3>
                <div class="table-wrap">
                    <table>
                        <thead><tr><th>Hook</th><th>Type</th><th>Description</th></tr></thead>
                        <tbody>
                            <tr><td><code>user_logged_in</code></td><td><span class="badge badge-action">Action</span></td><td>After successful login</td></tr>
                            <tr><td><code>user_login_failed</code></td><td><span class="badge badge-action">Action</span></td><td>After failed login</td></tr>
                            <tr><td><code>authenticate</code></td><td><span class="badge badge-filter">Filter</span></td><td>Custom auth methods</td></tr>
                        </tbody>
                    </table>
                </div>
                
                <h3>Admin</h3>
                <div class="table-wrap">
                    <table>
                        <thead><tr><th>Hook</th><th>Type</th><th>Description</th></tr></thead>
                        <tbody>
                            <tr><td><code>admin_init</code></td><td><span class="badge badge-action">Action</span></td><td>When admin loads</td></tr>
                            <tr><td><code>admin_menu</code></td><td><span class="badge badge-action">Action</span></td><td>When building menu</td></tr>
                            <tr><td><code>admin_head</code></td><td><span class="badge badge-action">Action</span></td><td>Inside admin head</td></tr>
                            <tr><td><code>admin_footer</code></td><td><span class="badge badge-action">Action</span></td><td>Before admin body close</td></tr>
                            <tr><td><code>admin_notices</code></td><td><span class="badge badge-action">Action</span></td><td>Display admin notices</td></tr>
                            <tr><td><code>admin_enqueue_scripts</code></td><td><span class="badge badge-action">Action</span></td><td>Enqueue page assets</td></tr>
                        </tbody>
                    </table>
                </div>
                
                <h3>Theme/Template</h3>
                <div class="table-wrap">
                    <table>
                        <thead><tr><th>Hook</th><th>Type</th><th>Description</th></tr></thead>
                        <tbody>
                            <tr><td><code>vf_head</code></td><td><span class="badge badge-action">Action</span></td><td>Inside head tag</td></tr>
                            <tr><td><code>vf_footer</code></td><td><span class="badge badge-action">Action</span></td><td>Before body close</td></tr>
                            <tr><td><code>body_class</code></td><td><span class="badge badge-filter">Filter</span></td><td>Modify body classes</td></tr>
                            <tr><td><code>template_include</code></td><td><span class="badge badge-filter">Filter</span></td><td>Override template</td></tr>
                        </tbody>
                    </table>
                </div>
                
                <h3>REST API</h3>
                <div class="table-wrap">
                    <table>
                        <thead><tr><th>Hook</th><th>Type</th><th>Description</th></tr></thead>
                        <tbody>
                            <tr><td><code>rest_api_init</code></td><td><span class="badge badge-action">Action</span></td><td>Register routes</td></tr>
                            <tr><td><code>rest_pre_dispatch</code></td><td><span class="badge badge-filter">Filter</span></td><td>Before handling request</td></tr>
                            <tr><td><code>rest_post_dispatch</code></td><td><span class="badge badge-filter">Filter</span></td><td>Modify response</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Examples -->
            <section id="examples">
                <h2>Examples</h2>
                
                <h3>Social Share Buttons</h3>
<pre><code><span class="k">&lt;?php</span>
<span class="c">/**
 * Plugin Name: Social Share
 * Version: 1.0.0
 */</span>

<span class="k">defined</span>(<span class="s">'CMS_ROOT'</span>) <span class="k">or</span> <span class="k">die</span>();

<span class="f">Plugin::addFilter</span>(<span class="s">'the_content'</span>, <span class="k">function</span>(<span class="v">$content</span>, <span class="v">$post</span>) {
    <span class="k">if</span> (<span class="v">$post</span>[<span class="s">'post_type'</span>] !== <span class="s">'post'</span>) <span class="k">return</span> <span class="v">$content</span>;
    
    <span class="v">$url</span> = <span class="f">urlencode</span>(<span class="f">Post::permalink</span>(<span class="v">$post</span>));
    <span class="v">$buttons</span> = <span class="s">'&lt;div class="share"&gt;
        &lt;a href="https://twitter.com/intent/tweet?url='</span> . <span class="v">$url</span> . <span class="s">'"&gt;Tweet&lt;/a&gt;
    &lt;/div&gt;'</span>;
    
    <span class="k">return</span> <span class="v">$content</span> . <span class="v">$buttons</span>;
}, <span class="n">20</span>);</code></pre>
                
                <h3>View Counter</h3>
<pre><code><span class="k">&lt;?php</span>
<span class="c">/**
 * Plugin Name: View Counter
 * Version: 1.0.0
 */</span>

<span class="k">defined</span>(<span class="s">'CMS_ROOT'</span>) <span class="k">or</span> <span class="k">die</span>();

<span class="f">Plugin::addAction</span>(<span class="s">'template_redirect'</span>, <span class="k">function</span>() {
    <span class="k">global</span> <span class="v">$post</span>;
    <span class="k">if</span> (!<span class="v">$post</span>) <span class="k">return</span>;
    
    <span class="v">$views</span> = (<span class="k">int</span>)<span class="f">Post::getMeta</span>(<span class="v">$post</span>[<span class="s">'id'</span>], <span class="s">'views'</span>, <span class="n">0</span>);
    <span class="f">Post::setMeta</span>(<span class="v">$post</span>[<span class="s">'id'</span>], <span class="s">'views'</span>, <span class="v">$views</span> + <span class="n">1</span>);
});

<span class="f">Plugin::addShortcode</span>(<span class="s">'views'</span>, <span class="k">function</span>() {
    <span class="k">global</span> <span class="v">$post</span>;
    <span class="k">return</span> <span class="f">number_format</span>(<span class="f">Post::getMeta</span>(<span class="v">$post</span>[<span class="s">'id'</span>], <span class="s">'views'</span>, <span class="n">0</span>)) . <span class="s">' views'</span>;
});</code></pre>
            </section>
            
            <!-- Best Practices -->
            <section id="best-practices">
                <h2>Best Practices</h2>
                
                <h3>Security</h3>
                <ul>
                    <li>Always verify CSRF tokens on form submissions</li>
                    <li>Use prepared statements for all database queries</li>
                    <li>Escape output with <code>esc()</code> to prevent XSS</li>
                    <li>Check user capabilities before actions</li>
                </ul>
                
                <h3>Performance</h3>
                <ul>
                    <li>Cache expensive operations when possible</li>
                    <li>Use appropriate hook priorities (default: 10)</li>
                    <li>Only load code when needed</li>
                </ul>
                
                <h3>Code Quality</h3>
                <ul>
                    <li>Prefix all functions with your plugin name</li>
                    <li>Include <code>defined('CMS_ROOT')</code> check</li>
                    <li>Document hooks for other developers</li>
                </ul>
                
                <div class="callout callout-info">
                    <svg class="callout-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4m0-4h.01"/></svg>
                    <div class="callout-content">
                        <strong>More resources</strong>
                        See the <a href="theme-development.html">Theme Development Guide</a> for frontend customization.
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <script>
        // Active link tracking
        const sections = document.querySelectorAll('section');
        const links = document.querySelectorAll('.nav-group a');
        
        function updateActive() {
            let current = '';
            sections.forEach(s => {
                if (s.getBoundingClientRect().top <= 120) current = s.id;
            });
            links.forEach(l => {
                l.classList.toggle('active', l.getAttribute('href') === '#' + current);
            });
        }
        
        window.addEventListener('scroll', updateActive);
        updateActive();
        
        // Close mobile menu on click
        links.forEach(l => l.addEventListener('click', () => {
            document.querySelector('aside').classList.remove('open');
        }));
    </script>
</body>
</html>
